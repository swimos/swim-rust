language: rust

os:
  - linux
  - osx
  - windows

rust:
  - stable
cache: cargo

before_script:
  - rustup component add clippy

jobs:
  include:
    - stage: "Build"
      script: cargo rustc -- -D warnings
    - stage: "Test"
      script: cargo test
    - stage: "Clippy"
      script: cargo clippy --all-targets --all-features -- -D warnings

