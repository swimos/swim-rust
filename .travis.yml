language: rust

os:
  - linux
  - osx
  - windows

rust:
  - stable
cache: cargo

before_script:
  - rustup component add clippy
  - rustup component add rustfmt

jobs:
  include:
    - stage: "Build"
      script: cargo rustc -- -D warnings

    - stage: "Test"
      script: cargo test

    - stage: "Format"
      script: cargo fmt -- --check

