trigger: none

schedules:
  - cron: "0 0 * * *"
    displayName: Daily midnight build
    branches:
      include:
        - master

jobs:
  - job: WASM_nightly_client_build
    displayName: WASM nightly build

    pool:
      vmImage: ubuntu-16.04

    steps:
      - script: |
          rustup target add wasm32-unknown-unknown
          cargo build --no-default-features --target wasm32-unknown-unknown
        env:
          RUST_BACKTRACE: 1
        displayName: Client WASM build
        workingDirectory: $(Build.SourcesDirectory)/client
