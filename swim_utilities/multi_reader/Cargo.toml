[package]
name = "multi_reader"
version = "0.1.0"
edition = "2021"

[dependencies]
bytes = "1.0"
byte_channel= { path = "../byte_channel" }
parking_lot = "0.11.0"
waker-fn = "1.1.0"
slab = "0.4.4"
tokio-util = { version = "0.6.8", features = ["codec"] }
futures-util = "0.3.4"
smallvec = "1.7.0"
pin-project-lite = "0.2.8"
futures = "0.3.4"
tokio = { version = "1.1.1", features = ["io-util"] }

[dev-dependencies]
tokio = { version = "1.1.1", features = ["rt-multi-thread", "test-util", "macros"] }
futures = { version = "0.3.4", features = ["io-compat", "compat"] }
criterion = { version = "0.3", features = ["async_tokio"] }
rand = "0.8.4"
swim_runtime = { path = "../../runtime/swim_runtime" }
swim_model = { path = "../../api/swim_model" }
swim_form = { path = "../../api/swim_form" }

[[bench]]
name = "mutli_reader_throughput"
harness = false